# ================= VIDEO =================

profile=gpu-hq
vo=gpu-next
gpu-api=vulkan
hwdec=vaapi-copy                 # Linux Intel/AMD (dxva2-copy on Windows, videotoolbox on macOS)

# Luma scaling (sharpness for anime lines/text)

scale=ewa_lanczossharp
scale-antiring=0.8
sigmoid-upscaling=yes

# Chroma scaling (color sharpness)

cscale=spline36
cscale-antiring=0.8

# Downscaling (preserves detail when scaling down 4Kâ†’1080p)

dscale=mitchell

# Dithering (smooth gradients)

dither=error-diffusion
temporal-dither=yes

# Debanding (fixes banding in skies/anime backgrounds)

deband=yes
deband-iterations=4
deband-threshold=40
deband-range=20
deband-grain=10

# ========== HDR / Tone Mapping ==========

tone-mapping=mobius              # More vibrant than bt.2446a
tone-mapping-param=0.3
hdr-compute-peak=yes
# target-peak=400                  # SDR target brightness (adjust if screen is brighter)
icc-profile-auto=yes
gamut-mapping-mode=clip          # Keep full saturation by clipping
target-trc=bt.1886               # Better contrast curve for SDR displays
fbo-format=rgba16f               # High precision color buffer

# ================= GENERAL =================

autofit=70%                      # Open window at ~70% of screen
keep-open=yes
cursor-autohide=1000
save-position-on-quit
osd-bar=no
osd-font-size=28
volume=100
volume-max=150
audio-exclusive=no

# ================= SUBTITLES =================

alang=jp,jpn,ja,en,eng
slang=en,eng,jp,jpn,ja
sub-auto=fuzzy
sub-font="Source Sans Pro"       # Crisp readable subs
sub-font-size=36
sub-border-size=1.5
sub-shadow-color=0.0/0.0/0.0/0.50
sub-shadow-offset=2

# ================= SCREENSHOTS =================

screenshot-format=png
screenshot-high-bit-depth=yes
screenshot-directory="~/Videos/mpv-shots"
screenshot-template="%f-%wH.%wM.%wS.%wT-#%#00n"

# ================= SYNC =================

video-sync=display-resample      # Best for laptops / VRR / 60Hz panels

# ================= AUDIO =================

ao=pulse                         # Linux (wasapi on Windows, coreaudio on macOS)
audio-buffer=0.3
