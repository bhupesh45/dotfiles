# ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
# ┃                     Windowrules Configuration               ┃
# ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

# Windows Rules https://wiki.hyprland.org/Configuring/Window-Rules/ #

##############################
### WINDOWS AND WORKSPACES ###
##############################

# See https://wiki.hypr.land/Configuring/Window-Rules/ for more
# See https://wiki.hypr.land/Configuring/Workspace-Rules/ for workspace rules

# Example windowrule
windowrule = match:class ^(org.gnome.NautilusPreviewer)$, float on
windowrule = match:class ^(kitty)$, match:title ^(kitty)$, opacity 0.9
windowrule = match:class ^(neovide)$, match:title ^(Neovide)$, opacity 0.9

# Ignore maximize requests from apps
windowrule = match:class .*, suppress_event maximize

# Fix some dragging issues with XWayland
windowrule = match:class ^$, match:title ^$, match:xwayland 1, match:float 1, match:fullscreen 0, match:pin 0, no_focus on

# Workspace Configs
workspace = w[tv1], gapsout:0, gapsin:0
workspace = f[1], gapsout:0, gapsin:0

# Window rules for specific workspaces
# Note: 'onworkspace' becomes 'match:workspace', 'floating' becomes 'match:float'
windowrule = match:float 0, match:workspace w[tv1], border_size 0, rounding 0
windowrule = match:float 0, match:workspace f[1], border_size 0, rounding 0

# Swaync
# Note: 'ignorezero' is replaced by 'ignore_alpha 0'
layerrule = match:namespace swaync-control-center, blur on, ignore_alpha 0, animation slide right
layerrule = match:namespace swaync-notification-window, blur on, ignore_alpha 0

# Blur, ignore alpha, and disable animations for vicinae
layerrule = match:namespace vicinae, blur on, ignore_alpha 0, no_anim on

# --- Float Necessary Windows ---
windowrule = match:class ^(org.pulseaudio.pavucontrol), float on, persistent_size on
windowrule = match:title ^(Picture in picture)$, match:class ^()$, float on
windowrule = match:title ^(Save File)$, match:class ^()$, float on, persistent_size on
windowrule = match:title ^(Open File)$, match:class ^()$, float on, persistent_size on
windowrule = match:class ^(LibreWolf)$, match:title ^(Picture-in-Picture)$, float on
windowrule = match:class ^(blueman-manager)$, float on, persistent_size on
windowrule = match:class ^(xdg-desktop-portal-gtk|xdg-desktop-portal-kde|xdg-desktop-portal-hyprland)(.*)$, float on, persistent_size on
windowrule = match:class ^(polkit-gnome-authentication-agent-1|hyprpolkitagent|org.org.kde.polkit-kde-authentication-agent-1)(.*)$, float on
windowrule = match:class ^(CachyOSHello)$, float on
windowrule = match:class ^(zenity)$, float on
windowrule = match:title ^(Steam - Self Updater)$, match:class ^()$, float on

# --- Opacity Rules ---
windowrule = match:class ^(thunar|nemo)$, opacity 0.92
windowrule = match:class ^(kitty)$, opacity 0.9
windowrule = match:class ^(discord|armcord|webcord)$, opacity 0.96
windowrule = match:title ^(QQ|Telegram)$, opacity 0.95
windowrule = match:title ^(NetEase Cloud Music Gtk4)$, opacity 0.95

# --- General Window Rules ---
# Picture-in-Picture (Combined float, size, and move)
windowrule = match:title ^(Picture-in-Picture)$, float on, size 960 540, move 25%-

# Media & Terminal Floats (Combined float, move, size)
windowrule = match:title ^(imv|mpv|danmufloat|termfloat|nemo|ncmpcpp)$, float on, move 25%-, size 960 540

# Specific behavior
windowrule = match:title ^(danmufloat)$, pin on
windowrule = match:title ^(danmufloat|termfloat)$, rounding 5
windowrule = match:class ^(kitty|Alacritty)$, animation slide right
windowrule = match:class ^(org.mozilla.firefox)$, no_blur on

# --- Workspace Specific Decorations ---
# Floating windows on workspaces 1-10
windowrule = match:float 1, match:workspace w[fv1-10], border_size 2, border_color $cachylblue, rounding 8

# Tiling windows on workspaces 1-10 (floating:0 becomes match:float 0)
windowrule = match:float 0, match:workspace f[1-10], border_size 3, rounding 4

# Windows Rules End #


# ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
# ┃                   Workspaces & Layers Rules                 ┃
# ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

# Workspaces Rules https://wiki.hyprland.org/Configuring/Workspace-Rules/ #
# Note: Workspace syntax generally remains standard, but ensure variable names are correct in your environment.
workspace = w[tv1]s[false], gapsout:0, gapsin:0
workspace = f[1]s[false], gapsout:0, gapsin:0
windowrule = border_size 0, match:float 0, match:workspace w[tv1]s[false]
windowrule = rounding 0, match:float 0, match:workspace w[tv1]s[false]
windowrule = border_size 0, match:float 0, match:workspace f[1]s[false]
windowrule = rounding 0, match:float 0, match:workspace f[1]s[false]

# Layers Rules #
# Updated to use match:namespace for the target layer
layerrule = match:namespace logout_dialog, animation slide top
layerrule = match:namespace waybar, animation slide down
layerrule = match:namespace wallpaper, animation fade 50%

# Layers Rules End #
